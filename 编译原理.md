# 编译原理

## 词法分析

词法分析是编译的第一阶段，词法分析器的主要内容是读入源程序的输入字符，将它们组成词素(lexeme)，生成并输出一个词法单元(token)序列，每个词法单元对应于一个词素

* **词法单元**由一个**词法单元名**和一个**可选的属性值**组成。

  * **词法单元名**是一个表示某种词法单元的抽象符号

* **模式**描述了一个词法单元的词素可能具有的形式。（个人的理解是模式是匹配词素的**规则**）

  > 当词法单元是一个关键字时，它的模式就是组成这个关键字的字符序列。对于标识符和其他词法单元，模式是一个更加复杂的结构。它可以和很多符号串匹配。
  
* **词素**是源程序中的一个字符序列，它和某个词法单元的**模式**匹配，并被词法分析器识别为该词法单元的一个实例。

---

对很多程序设计语言而言，以下类别覆盖了大部分或所有的词法单元

1. 每个关键字有一个词法单元。一个关键字的模式就是该关键字的本身
2. 表示运算符的词法单元
3. 一个或多个表示常量的词法单元，比如数字和字面值字符串
4. 每一个标点符号具有一个词法单元，比如左右括号，逗号和分号

## 语法分析

### 文法定义

一个上下文无关文法由四个元素组成：

1. 一个**终结符号**集合，它们有时也称为“词法单元”。终结符号是该文法所定义的语言的**基本符号**的集合。

2. 一个**非终结符号**集合，它们有时也成为“语法变量”。每个非终结符号表示一个终结符号串的集合。

3. 一个**产生式**集合。其中每个产生式包括一个称为*产生式头*或*左部*的非终结符号，一个箭头，和一个称为*产生式体*或*右部*的由终结符号及非终结符号组成的序列。

   产生式主要用来表示某个构造的某种书写形式。如果产生式头非终结符号代表一个构造，那么该产生式体就代表了该构造的一种书写方式。

   > e.g. `stmt -> if(expr) stmt else stmt`
   >
   > 其中`->`读作“可以具有如下形式”

4. 指定一个非终结符号为**开始**符号。

   > 一般情况下，在描述文法的时候，开始符号对应的产生式被首先列出

---------

* 语法分析的任务：接受一个终结符号串作为输入，找出从文法的开始符号推导出这个串的方法。如果不能从文法的开始符号推导得到该终结符号串，则报告该中介符号所含的语法错误。
